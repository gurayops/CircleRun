<UserCursor@Widget>:
	id: cursorRoot
	startLocation: 0
	direction: 0
	canvas.after:
		Color:
			rgb: 0, 0, 0
		Line:
			width: 5
			circle: (self.center_x, self.center_y, cursorRoot.width*0.5, self.startLocation, self.startLocation+7)


<ImageButton@ButtonBehavior+Image>
    source: 'images/button_pressed.png'
    #size_hint: .5, .5


<GameWindow>:
	# Main background
	canvas.before:
		Color:
			rgba: (95/255.0, 171/255.0, 255/255.0, 1)
		Rectangle:
			size: (self.width, self.height)

	# Level and Score Info - LEFT MENU
	level: 1
	score: 0
	BoxLayout:
		size_hint_x: 0.3
		orientation: 'vertical'
		Widget:
			size_hint_y: .35
		Label:
			size_hint_y: .3
			text: str(root.level)
			font_size: "80sp"
			bold: True
		Label:
			size_hint_y: .3
			text: str(root.score)
			font_size: "50sp"
			bold: True
		Widget:
			size_hint_y: .35

	# Main Scene - MIDDLE PART
	FloatLayout:
		id: circler_background
		#size: root.width, root.height
		#pos: root.pos
		size_hint_x: 0.5
		screenWidth: self.width
		screenHeight: self.height
		#canvas.before:
		#	Rectangle:
		#		pos: self.pos
		#		size: self.size
		Widget:
			size_hint: (1, 1)
			pos_hint: {'center_x': 0.5, 'center_y': 0.5}
			canvas.before:
				Color:
					rgba: (1, 1, 1, 1)
				Line:
					dash_offset: 5
					dash_length: 5
					circle: (self.center_x, self.center_y, min(self.height, self.width)*0.5)
			canvas.after:
				Color:
					rgba: 1,1,1,1
				Rectangle:
					pos: self.center_x-self.width/8, self.center_y-self.width/8
					size: self.width/4, self.width/4
					source: "images/center.png"

		Image:
			id: animationImage
			source: "images/direction.png"
			#size: self.texture_size
			size_hint: (.2, .2)


		UserCursor:
			id: gamer
			size_hint: (1, 1)
			#pos_hint: {'x': 0, 'y': 0}
			pos_hint: {'center_x': 0.5, 'center_y': 0.5}

	# Main Scene - RIGHT PART
	FloatLayout:
		size_hint_x: .2
		id: rightMenu
		Button:
			pos_hint: {'center': (.5,.5)}
			sizeCoeff: min(self.parent.size[0], self.parent.size[1])
			size: self.texture_size
			#size_hint_y: .4
			#size_hint_x: .5
			#allow_stretch: False
			background_down: 'images/button_notPressed.png'
			background_normal: 'images/button_pressed.png'
			text: "selam"
			on_press: root.startMove(); root.startAnimation(); root.animateX(root.ids.animationImage)
			on_release: root.stopAnimation(); print self.sizeCoeff


<PlayGround>:
	id: playGround
	circleCenter: self.center
	radius: self.height / 2
	#canvas.after:
	#	Color:
	#		rgba: (1, 1, 1, .5)
	#	Rectangle:
	#		pos: self.pos
	#		size: self.size
	canvas.before:
		Color:
			rgba: (0, 0, 0,1)
		Line:
			dash_offset: 5
			dash_length: 5
			circle: (self.center_x, self.center_y, self.radius)

	on_touch_down: print self.radius

	Image:
		id: centerImage
		source: "images/center.png"
		size_hint: (.2, .2)
		center: playGround.center

<Game>:
	id: gameWindow
	score: 0
	Image:
		id: background
		source: "images/background.png"
		allow_stretch: True
		keep_ratio: False
		pos: 0, 0
		size: root.size

	Image:
		id: scoreBackground
		source: "images/scoreBackground.png"
		size_hint: (.3, .3)
		pos_hint: {'y': .05}
		Label:
			id: scoreDisplay
			text: str(root.score)
			center: scoreBackground.center
			font_size: "60sp"
			bold: True

	ImageButton:
		id: directionButton
		source: "images/directionButton.png"
		size_hint: (.3, .3)
		#center: (root.width*0.7, root.height*0.2)
		pos_hint: {'center_x': .85, 'center_y': 0.2}
		on_press: root.startTurn(self)
		on_release: root.stopTurn(self)

	PlayGround:
		size_hint: (.6, .9)
		pos_hint: {'center_x': .5, 'center_y': .5}
		



		

		


